---
lang: de
title: "Testcenter Daten Upload"
---

Die **Testdateien** weisen Abhängigkeiten untereinander auf. Diese Abhängigkeiten sind:

* die XML zur Aufgabendefinition (**Unit-XML**) bindet die Aufgabenressource (**VOUD-Datei**) mittels es Dateinamens ein, außerdem wird der zu ladende **Player** mittels Playernamen hier eingebunden
* die XML zur Testheft-Definition (**Booklet-XML**) bindet die gewünschten Aufgaben mittels Aufgaben-ID ein
* die XML zur Studien-Definition (**Testtaker-XML**) bindet die gewünschten Testhefte mittels Testheft-ID ein

```{mermaid}
flowchart TD
  A[Unit-VOUD] --> |Dateiname| C[Unit-XML]
  B[Player-HTML] --> |Playername| C[Unit-XML]
  C --> |Unit-ID| E[Booklet-XML]
  E --> |Booklet-ID| F[Testtaker-XML]
```

Beim Laden der **Testdateien** in das **Testcenter** werden diese Abhängigkeit einbezogen und es wird geprüft, ob eine abhängige Testdatei vorhanden ist oder nicht. Wird bspw. eine Booklet-XML mit definierten Aufgaben in das Testcenter geladen, wird diese Datei nur vollständig geladen, wenn die hier definierten Aufgaben bereits im Testcenter sind. Ansonsten erscheint eine Fehlermeldung, die darauf hinweist, dass die definierten Aufgaben (Unit-XMLs) nicht vorhanden sind. In diesem Fall müssen zuerst die Aufgaben geladen werden und anschließend die Booklet-XML.

Sollen einzelne Dateien wieder gelöscht werden, ist in umgekehrter Reihenfolge vorzugehen. Es können keine Dateien gelöscht werden, die noch in einer anderen Datei eingebunden sind. Es ist bspw. nicht möglich Aufgaben zu löschen ohne vorher das Testheft zu löschen in dem sie eingebunden sind. Es erscheint in einem solchen Fall eine entsprechende Fehlermeldung und die Datei wird nicht gelöscht.

::: {.callout-tip}
Es ist auch möglich alle **Testdateien** gemeinsam verpackt in einer ZIP-Datei in das **Testcenter** zu laden. Dabei hält das **Testcenter** automatisch die entsprechende Reihefolge ein.
:::

# Empfehlung: Verweis zur Validierung

Eventuell wird nach dem Hochladen in das Testcenter eine Warnung "File has no link to XSD-Schema..." angezeigt. Diese Warnung bedeutet, dass die XML-Datei keinen expliziten Verweis auf eine XSD-Datei (Schemadefinition) enthält. Eine solche XSD-Datei definiert die möglichen Elemente und Attribute einer XML-Datei und kann daher zur Prüfung der XML-Datei verwendet werden. Das IQB stellt solche XSD-Dateien bereit. 

Die Deklaration der XSD-Datei erfolgt im Haupt-Element einer XML-Datei. Für die Unit-XML heißt das Hauptelement `Unit` und muss folgendermaßen geändert werden:

```
<Unit 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation= "aktueller Pfad zur gültigen Schemadefintion">
```

Ein nützlicher Nebeneffekt hierbei ist, dass auch Editoren zur Bearbeitung von XML-Dateien (z. B. Notepad++, Sublime) nun eine Validierung vornehmen können. Man kann also bereits vor dem Hochladen eine Validierung bereits beim Schreiben einer XML-Datei vornehmen lassen.

# Laden spezieller Formate
Einige Anwendungen erfordern zusätzliche Ressourcendateien. Dazu gehören bspw. Aufgaben, die **GeoGebra** Elemente enthalten. Hierfür muss neben den **Testdateien**, die zu jeder Testung gehören, ein spezielles Paket mit der Endung **.itcr.zip** geladen werden. 
Das GeoGebra-Paket können Sie unter https://download.geogebra.org/package/geogebra-math-apps-bundle herunterladen. Nennen Sie es GeoGebra.itcr.zip, und laden Sie es in den selben Arbeitsbereich wie Ihre Aufgaben.
Das Paket kann nicht mitausgeliefert werden, da [GeoGebra eine andere Open-Source-Lizenz als MIT](https://www.geogebra.org/license)`verwendet.